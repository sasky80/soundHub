<div class="device-details-page">
  <header class="page-header">
    <a routerLink="/" class="back-link">‚Üê {{ 'deviceDetails.back' | translate }}</a>
    <h1>{{ 'deviceDetails.title' | translate }}</h1>
  </header>

  @if (loading()) {
    <div class="loading">{{ 'common.loading' | translate }}</div>
  } @else if (error()) {
    <div class="error">{{ error() }}</div>
  } @else if (device(); as d) {
    <div class="device-info">
      <h2 class="device-name">{{ d.name }}</h2>
      <p class="device-vendor">{{ d.vendor }}</p>
    </div>

    @if (status(); as s) {
      <section class="control-section">
        <div class="control-row">
          <span class="control-label">{{ 'deviceDetails.power' | translate }}</span>
          <button
            class="power-btn"
            [class.on]="s.powerState"
            [disabled]="powerLoading()"
            (click)="togglePower()"
          >
            @if (powerLoading()) {
              ...
            } @else if (s.powerState) {
              {{ 'deviceDetails.powerOn' | translate }}
            } @else {
              {{ 'deviceDetails.powerOff' | translate }}
            }
          </button>
        </div>
      </section>
    }
  }
</div>
